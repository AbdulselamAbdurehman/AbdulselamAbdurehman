---
import Layout from "../../layouts/Layout.astro";
import Footer from "../../components/Footer.astro";
import { getCollection } from "astro:content";

const allPosts = await getCollection("blog");
const sortedPosts = allPosts.sort(
  (a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf(),
);

const title = "The Intellectual Arena | Abdulselam Abdurehman";
const description =
  "Deep dives into software architecture, system design, and engineering philosophy.";
---

<Layout title={title} description={description}>
  <main class="min-h-screen py-20">
    <header class="mb-16">
      <a
        href="/"
        class="text-blue-500 hover:text-blue-400 mb-8 inline-block transition-colors"
        >&larr; Back to Home</a
      >
      <h1 class="text-4xl md:text-5xl font-bold text-slate-100 mb-4">
        The Intellectual Arena
      </h1>
      <p class="text-xl text-slate-400 max-w-2xl">
        Thoughts on architecture, complexity, and the pursuit of engineered
        clarity.
      </p>
    </header>

    <div class="space-y-12">
      {
        sortedPosts.map((post) => (
          <article class="group relative flex flex-col items-start">
            <h2 class="text-2xl font-bold text-slate-200 group-hover:text-blue-400 transition-colors">
              <a href={`/blog/${post.slug}`}>
                <span class="absolute -inset-y-6 -inset-x-4 z-20 sm:-inset-x-6 sm:rounded-2xl" />
                <span class="relative z-10">{post.data.title}</span>
              </a>
            </h2>
            <time
              datetime={post.data.pubDate.toISOString()}
              class="relative z-10 order-first mb-3 flex items-center text-sm text-slate-500 pl-3.5"
            >
              <span
                class="absolute inset-y-0 left-0 flex items-center"
                aria-hidden="true"
              >
                <span class="h-4 w-0.5 rounded-full bg-slate-500" />
              </span>
              {post.data.pubDate.toLocaleDateString("en-US", {
                year: "numeric",
                month: "long",
                day: "numeric",
              })}
            </time>
            <p class="relative z-10 mt-2 text-sm leading-6 text-slate-400 max-w-3xl">
              {post.data.description}
            </p>
            <div class="relative z-10 mt-4 flex items-center text-sm font-medium text-blue-500">
              Read article
              <svg
                class="ml-1 h-4 w-4 stroke-current"
                viewBox="0 0 16 16"
                fill="none"
                aria-hidden="true"
              >
                <path
                  d="M6.75 5.75 9.25 8l-2.5 2.25"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </div>
          </article>
        ))
      }
    </div>
  </main>
  <Footer />
</Layout>
